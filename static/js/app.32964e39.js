(function(t){function e(e){for(var s,o,i=e[0],c=e[1],l=e[2],f=0,m=[];f<i.length;f++)o=i[f],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&m.push(r[o][0]),r[o]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(t[s]=c[s]);u&&u(e);while(m.length)m.shift()();return n.push.apply(n,l||[]),a()}function a(){for(var t,e=0;e<n.length;e++){for(var a=n[e],s=!0,i=1;i<a.length;i++){var c=a[i];0!==r[c]&&(s=!1)}s&&(n.splice(e--,1),t=o(o.s=a[0]))}return t}var s={},r={app:0},n=[];function o(e){if(s[e])return s[e].exports;var a=s[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=t,o.c=s,o.d=function(t,e,a){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)o.d(a,s,function(e){return t[e]}.bind(null,s));return a},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/static/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=e,i=i.slice();for(var l=0;l<i.length;l++)e(i[l]);var u=c;n.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var s=a("2b0e"),r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",[a("v-app-bar",{attrs:{app:"",color:"primary",dark:""}},[a("div",{staticClass:"d-flex align-center"},[a("v-img",{staticClass:"shrink mr-2",attrs:{alt:"Vuetify Logo",contain:"",src:"https://cdn.vuetifyjs.com/images/logos/vuetify-logo-dark.png",transition:"scale-transition",width:"40"}}),a("v-img",{staticClass:"shrink mt-1 hidden-sm-and-down",attrs:{alt:"Vuetify Name",contain:"","min-width":"100",src:"https://cdn.vuetifyjs.com/images/logos/vuetify-name-dark.png",width:"100"}})],1),a("v-spacer"),a("v-btn",{attrs:{href:"https://github.com/vuetifyjs/vuetify/releases/latest",target:"_blank",text:""}},[a("span",{staticClass:"mr-2"},[t._v("Latest Release")]),a("v-icon",[t._v("mdi-open-in-new")])],1)],1),a("v-main",[a("HelloWorld")],1)],1)},n=[],o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-container",[s("v-row",{staticClass:"text-center"},[s("v-col",{attrs:{cols:"12"}},[s("v-img",{staticClass:"my-3",attrs:{src:a("9b19"),contain:"",height:"200"}})],1),s("v-col",{staticClass:"mb-4"},[s("h1",{staticClass:"display-2 font-weight-bold mb-3"},[t._v("Welcome to Vuetify")]),s("p",{staticClass:"subheading font-weight-regular"},[t._v(" For help and collaboration with other Vuetify developers, "),s("br"),t._v("please join our online "),s("a",{attrs:{href:"https://community.vuetifyjs.com",target:"_blank"}},[t._v("Discord Community")])])]),s("v-col",{staticClass:"mb-5",attrs:{cols:"12"}},[s("h2",{staticClass:"headline font-weight-bold mb-3"},[t._v("What's next?")]),s("v-row",{attrs:{justify:"center"}},t._l(t.whatsNext,(function(e,a){return s("a",{key:a,staticClass:"subheading mx-3",attrs:{href:e.href,target:"_blank"}},[t._v(" "+t._s(e.text)+" ")])})),0)],1),s("v-col",{staticClass:"mb-5",attrs:{cols:"12"}},[s("h2",{staticClass:"headline font-weight-bold mb-3"},[t._v("Important Links")]),s("v-row",{attrs:{justify:"center"}},t._l(t.importantLinks,(function(e,a){return s("a",{key:a,staticClass:"subheading mx-3",attrs:{href:e.href,target:"_blank"}},[t._v(" "+t._s(e.text)+" ")])})),0)],1),s("v-col",{staticClass:"mb-5",attrs:{cols:"12"}},[s("h2",{staticClass:"headline font-weight-bold mb-3"},[t._v("Ecosystem")]),s("v-row",{attrs:{justify:"center"}},t._l(t.ecosystem,(function(e,a){return s("a",{key:a,staticClass:"subheading mx-3",attrs:{href:e.href,target:"_blank"}},[t._v(" "+t._s(e.text)+" ")])})),0)],1)],1)],1)},i=[],c={name:"HelloWorld",data:function(){return{ecosystem:[{text:"vuetify-loader",href:"https://github.com/vuetifyjs/vuetify-loader"},{text:"github",href:"https://github.com/vuetifyjs/vuetify"},{text:"awesome-vuetify",href:"https://github.com/vuetifyjs/awesome-vuetify"}],importantLinks:[{text:"Documentation",href:"https://vuetifyjs.com"},{text:"Chat",href:"https://community.vuetifyjs.com"},{text:"Made with Vuetify",href:"https://madewithvuejs.com/vuetify"},{text:"Twitter",href:"https://twitter.com/vuetifyjs"},{text:"Articles",href:"https://medium.com/vuetify"}],whatsNext:[{text:"Explore components",href:"https://vuetifyjs.com/components/api-explorer"},{text:"Select a layout",href:"https://vuetifyjs.com/getting-started/pre-made-layouts"},{text:"Frequently Asked Questions",href:"https://vuetifyjs.com/getting-started/frequently-asked-questions"}]}}},l=c,u=a("2877"),f=a("6544"),m=a.n(f),p=a("62ad"),d=a("a523"),g=a("adda"),h=a("0fd9"),v=Object(u["a"])(l,o,i,!1,null,null,null),y=v.exports;m()(v,{VCol:p["a"],VContainer:d["a"],VImg:g["a"],VRow:h["a"]});var b={name:"App",components:{HelloWorld:y},data:function(){return{}}},w=b,x=a("7496"),_=a("40dc"),j=a("8336"),C=a("132d"),V=a("f6c4"),k=a("2fa4"),S=Object(u["a"])(w,r,n,!1,null,null,null),L=S.exports;m()(S,{VApp:x["a"],VAppBar:_["a"],VBtn:j["a"],VIcon:C["a"],VImg:g["a"],VMain:V["a"],VSpacer:k["a"]});a("5319"),a("ac1f");var M=a("8c4f"),O=a("2f62"),I=(a("d3b7"),a("99af"),a("07ac"),a("bc3a")),q=a.n(I),E=q.a.create({baseURL:"/todo/",timeout:5e3,headers:{"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest"}});E.interceptors.request.use((function(t){F.dispatch("message/clearMessages");var e=localStorage.getItem("access");return e?(t.headers.Authorization="JWT "+e,t):t}),(function(t){return Promise.reject(t)})),E.interceptors.response.use((function(t){return t}),(function(t){console.log("error.resposnse=",t.response);var e,a=t.response?t.response.status:500;if(400===a){var s=[].concat.apply([],Object.values(t.response.data));F.dispatch("message/setWarningMessages",{messages:s})}else if(403===a)e="権限がありません．",F.dispatch("message/setErrorMessage",{message:e});else if(401===a){var r=localStorage.getItem("access");e=null!=r?"ログインの有効期限切れです．":"パスワードかメールアドレスが間違っています．",F.dispatch("auth/logout"),F.dispatch("message/setErrorMessage",{message:e})}else e="想定外のエラーです．",F.dispatch("message/setErrorMessage",{message:e});return Promise.reject(t)}));var P=E;s["a"].use(O["a"]);var T={namespaced:!0,state:{email:"",username:"",isLoggedIn:!1},mutaions:{set:function(t,e){t.email=e.user.email,t.username=e.user.username,t.isLoggedIn=!0},clear:function(t){t.email="",t.username="",t.isLoggedIn=!1}},actions:{login:function(t,e){return P.post("/auth/jwt/create/",{emal:e.email,password:e.password}).then((function(e){return localStorage.setItem("access",e.data.access),t.dispatch("renew")}))},logout:function(t){localStorage.removeItem("access"),t.commit("clear")},renew:function(t){return P.get("/auth/users/me/").then((function(e){var a=e.data;console.log("data"),console.log(a),t.commit("set",{user:a})}))}}},A={namespaced:!0,state:{error:"",warnings:[],info:""},mutations:{set:function(t,e){e.error&&(t.error=e.error),e.warnings&&(t.warnings=e.warnings),e.info&&(t.info=e.info)},clear:function(t){t.error="",t.warnings=[],t.info=""}},actions:{setErrorMessage:function(t,e){t.commit("clear"),t.commit("set",{error:e.message})},setWarningMessages:function(t,e){t.commit("clear"),t.commit("set",{warnings:e.messages})},setInfoMessage:function(t,e){t.commit("clear"),t.commit("set",{info:e.message})},clearMessages:function(t){t.commit("clear")}}},W=new O["a"].Store({modules:{auth:T,message:A}}),F=W,R=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"home-page"}},[a("v-card",{staticClass:"mx-auto",attrs:{"max-width":"300",tile:""}},[t._v(" aa ")])],1)},$=[],H=a("b0af"),z={},B=Object(u["a"])(z,R,$,!1,null,null,null),J=B.exports;m()(B,{VCard:H["a"]});var N=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"login-page"}},[a("v-container",{staticClass:"grid-list-md",staticStyle:{height:"500px"}},[a("v-layout",{attrs:{row:"",warp:"","align-center":"","justify-center":"","fill-height":""}},[a("v-flex",{attrs:{xs12:"",sm8:"",lg4:"",md5:""}},[a("v-card",{staticClass:"login-card"},[a("v-card-title",[a("span",{staticClass:"headline"},[t._v("Login to Appp")])]),a("v-spacer"),a("v-card-text",[t.loading?a("v-layout",{attrs:{row:"","fill-height":"","justify-center":"","align-center":""}},[a("v-progress-circular",{attrs:{size:50,color:"primary",indeterminate:""}})],1):a("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-container",[a("v-text-field",{attrs:{counter:70,label:"メールアドレス",maxlength:"70",required:""}}),a("v-text-field",{attrs:{type:"password",counter:20,label:"パスワード",maxlength:"20",required:""}})],1),a("v-btn",{staticClass:"pink white--text",attrs:{disabled:!t.valid},on:{click:t.login}},[t._v("Login")])],1)],1)],1),a("br")],1)],1)],1)],1)},U=[],D=a("99d9"),X=a("0e8f"),G=a("4bd4"),Q=a("a722"),K=a("490a"),Y=a("8654"),Z={},tt=Object(u["a"])(Z,N,U,!1,null,null,null),et=tt.exports;m()(tt,{VBtn:j["a"],VCard:H["a"],VCardText:D["a"],VCardTitle:D["b"],VContainer:d["a"],VFlex:X["a"],VForm:G["a"],VLayout:Q["a"],VProgressCircular:K["a"],VSpacer:k["a"],VTextField:Y["a"]}),s["a"].use(M["a"]);var at=[{path:"/",component:J,meta:{requiresAuth:!0}},{path:"/login",name:"Login",component:et}],st=new M["a"]({mode:"history",routes:at});function rt(t){console.log("Force to login page."),st.replace({path:"/login",query:{next:t.fullPath}})}st.beforeEach((function(t,e,a){var s=F.state.auth.isLoggedIn,r=localStorage.getItem("access");console.log("to.path=",t.path),console.log("isLoggedIn=",s),t.matched.some((function(t){return t.meta.requiresAuth}))?s?(console.log("User is already logged in. So, free to next."),a()):(console.log("User is not logged in."),null!=r?(console.log("Try to renew user info."),F.dispatch("auth/renew").then((function(){console.log("Succeeded to renew. So, free to next."),a()})).catch((function(){rt(t)}))):rt(t)):(console.log("Go to public page."),a())}));var nt=st,ot=a("f309");s["a"].use(ot["a"]);var it=new ot["a"]({});s["a"].config.productionTip=!1,new s["a"]({router:nt,store:F,vuetify:it,render:function(t){return t(L)}}).$mount("#app")},"9b19":function(t,e,a){t.exports=a.p+"img/logo.63a7d78d.svg"}});
//# sourceMappingURL=app.32964e39.js.map